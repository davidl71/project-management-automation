---
description: Task status standardization rules for AI assistance
alwaysApply: true
---

# Task Status Standardization Rules

## üö® CRITICAL: Always Use Title Case for Task Status

**All Exarp tools MUST normalize task status to Title Case before updating.**

### Standard Status Values

**‚úÖ CORRECT (Title Case):**
- `"Todo"` (not "todo", "TODO", "pending")
- `"In Progress"` (not "in_progress", "in-progress", "In Progress")
- `"Review"` (not "review", "Review")
- `"Done"` (not "done", "DONE", "completed")

### Required Pattern

**ALWAYS use `normalize_status_to_title_case()` before setting status:**

```python
from project_management_automation.utils.todo2_utils import normalize_status_to_title_case

# ‚úÖ CORRECT
task['status'] = normalize_status_to_title_case('done')  # ‚Üí "Done"
task['status'] = normalize_status_to_title_case('in_progress')  # ‚Üí "In Progress"
task['status'] = normalize_status_to_title_case('todo')  # ‚Üí "Todo"

# ‚ùå WRONG
task['status'] = 'done'  # Will create inconsistency
task['status'] = 'in_progress'  # Wrong format
task['status'] = 'Todo'  # OK but not normalized
```

### Where to Apply

**MUST normalize status in:**
1. ‚úÖ `update_todos_mcp()` - Already updated
2. ‚úÖ `_update_task_status()` in automation base - Already updated
3. ‚úÖ Direct file writes - Use normalization
4. ‚úÖ Status updates in tools - Use normalization
5. ‚úÖ Task creation - Use normalization

### Enforcement

**Before ANY status update:**
1. Import: `from project_management_automation.utils.todo2_utils import normalize_status_to_title_case`
2. Normalize: `status = normalize_status_to_title_case(raw_status)`
3. Use normalized value

**Status normalization function:**
- Location: `project_management_automation/utils/todo2_utils.py`
- Function: `normalize_status_to_title_case(status: str) -> str`
- Handles: All case variants, aliases (done‚ÜíDone, completed‚ÜíDone), spaces/underscores

### Examples

**Tool Updates:**
```python
# ‚úÖ CORRECT
updates = [{
    'id': task_id,
    'status': normalize_status_to_title_case('done')
}]
update_todos_mcp(updates)

# ‚ùå WRONG
updates = [{'id': task_id, 'status': 'done'}]  # Will be normalized by update_todos_mcp, but inconsistent
```

**Direct File Access:**
```python
# ‚úÖ CORRECT
from project_management_automation.utils.todo2_utils import normalize_status_to_title_case
task['status'] = normalize_status_to_title_case(new_status)

# ‚ùå WRONG
task['status'] = new_status  # May be wrong case
```

### Status Mapping

The normalization function handles:
- `"todo"`, `"Todo"`, `"TODO"`, `"pending"` ‚Üí `"Todo"`
- `"in_progress"`, `"in-progress"`, `"In Progress"`, `"working"` ‚Üí `"In Progress"`
- `"review"`, `"Review"`, `"needs review"` ‚Üí `"Review"`
- `"done"`, `"Done"`, `"DONE"`, `"completed"` ‚Üí `"Done"`
- `"blocked"`, `"Blocked"` ‚Üí `"Blocked"`
- `"cancelled"`, `"Cancelled"`, `"canceled"` ‚Üí `"Cancelled"`

### Why This Matters

- **Consistency**: All statuses use same capitalization
- **Filtering**: Status filters work correctly
- **Reporting**: Accurate task counts by status
- **Integration**: Works with Todo2 MCP and other systems

**Remember: Always normalize status to Title Case before updating!**
