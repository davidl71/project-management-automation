function onExtensionUpdated(e){if(!e.temporary&&"install"===e.reason){const e=chrome.runtime.getURL("js/welcome.html");chrome.tabs.create({url:e})}}function onConnect(e){e.onMessage.addListener((t=>{if(e.disconnect(),"open-affiliate-link"===t.action)openAffiliateLink()}))}function openAffiliateLink(){let e=null;const t=(n,o,i)=>{e===n&&"complete"===o.status&&(chrome.tabs.remove(e),chrome.tabs.onUpdated.removeListener(t))};chrome.tabs.onUpdated.addListener(t),chrome.tabs.create({url:"http://api.alichrome.io/invoice",active:!1},(t=>e=t.id))}chrome.runtime.onInstalled.addListener(onExtensionUpdated),chrome.runtime.onConnect.addListener(onConnect),chrome.runtime.onMessage.addListener((function(e,t,n){return"alert"===e.type&&fetch(`http://api.alichrome.io/alert/${e.content}`),!0}));