.\" Exarp ZSH Plugin Manual Page
.\" Install: sudo cp exarp.1 /usr/local/share/man/man1/
.TH EXARP 1 "November 2025" "Exarp 0.1.8" "User Commands"
.SH NAME
exarp \- Project management automation shell plugin
.SH SYNOPSIS
.B source
.I /path/to/exarp.plugin.zsh
.PP
.B xl
|
.B xc
|
.B xp
|
.B xs
|
.B xo
|
.B xt
|
.B motd
.SH DESCRIPTION
.B Exarp
is a ZSH plugin that provides context-aware project health monitoring,
task management, and daily wisdom. It integrates with Todo2 task files,
Git repositories, and various project manifest files.
.PP
The plugin offers two modes:
.TP
.B Full Mode
Requires Python and the project_management_automation package installed.
Provides comprehensive health scores, recommendations, and wisdom.
.TP
.B Lite Mode
Shell-only functions using grep, sed, and basic Python JSON parsing.
Works without MCP server or package imports. Fast startup.
.SH COMMANDS
.SS "Lite Mode (No Python imports)"
.TP
.B xl, exarp-lite
Quick project context: name, tasks, git status, file counts.
.TP
.B xt, exarp-tasks-lite \fR[\fIdir\fR] [\fIlimit\fR]
List pending tasks from .todo2/state.todo2.json. Default limit: 10.
.TP
.B xpl, exarp-projects-lite \fR[\fIdir\fR]
Scan subdirectories for projects and show summary table.
.SS "Full Mode (Requires Python)"
.TP
.B xc, exarp-context
Show current project context with health score and quick actions.
.TP
.B xp, exarp-projects \fR[\fIdir\fR] [\fIdepth\fR]
Scan for projects up to \fIdepth\fR levels deep (default: 2).
.TP
.B xs, exarp-score
Generate full project scorecard with all metrics.
.TP
.B xo, exarp-overview
Generate one-page project overview.
.TP
.B xh, exarp-health
Check documentation health.
.TP
.B exarp-align
Analyze Todo2 task alignment with project goals.
.TP
.B exarp-dups
Detect duplicate tasks.
.TP
.B exarp-sec
Scan dependencies for security vulnerabilities.
.TP
.B exarp-tags
Consolidate and standardize task tags.
.SS "MOTD (Message of the Day)"
.TP
.B motd \fR[\fImode\fR]
Show MOTD. Modes: \fBscore\fR (default), \fBoverview\fR, \fBwisdom\fR, \fBcontext\fR.
.TP
.B motd-score
Show project scorecard.
.TP
.B motd-overview
Show project overview (first 40 lines).
.TP
.B motd-wisdom
Show daily wisdom based on project health.
.TP
.B motd-context
Show project context.
.SH ENVIRONMENT
.TP
.B EXARP_MOTD
Set to \fB1\fR, \fBscore\fR, \fBoverview\fR, or \fBwisdom\fR to auto-show MOTD on shell start.
.TP
.B EXARP_PROMPT
Set to \fB1\fR to enable project health indicator in prompt.
.TP
.B EXARP_CACHE_TTL
Cache TTL in seconds (default: 300).
.TP
.B EXARP_CACHE_DIR
Cache directory (default: /tmp/exarp_cache).
.TP
.B EXARP_WISDOM_SOURCE
Wisdom source: pistis_sophia, bofh, tao, stoic, bible, murphy, shakespeare, confucius, sefaria.
.TP
.B EXARP_WISDOM_DISABLED
Set to \fB1\fR to disable daily wisdom.
.SH PROMPT INTEGRATION
Add to your .zshrc:
.PP
.RS
export EXARP_PROMPT=1
.br
RPROMPT='$(exarp_prompt_info) '$RPROMPT
.RE
.PP
Prompt shows: \fBâ¬¢85\fR (green), \fBâ¬¡65\fR (yellow), \fBâ¬¡45\fR (red).
.SH iTERM2 INTEGRATION
When iTerm2 shell integration is detected, Exarp automatically sets:
.TP
.B Badge
Project name and score in terminal background.
.TP
.B User Variables
\fIexarpProject\fR, \fIexarpScore\fR, \fIexarpTasks\fR, \fIexarpHealth\fR.
.TP
.B Tab/Window Titles
Auto-updated with project info.
.PP
Status bar setup: Add "Interpolated String" component with:
.RS
\\(user.exarpProject) \\(user.exarpHealth)\\(user.exarpScore)%
.RE
.SH PROJECT DETECTION
Exarp detects projects by looking for:
.IP \(bu 2
.todo2/state.todo2.json (Todo2 task file)
.IP \(bu 2
pyproject.toml (Python)
.IP \(bu 2
package.json (Node.js)
.IP \(bu 2
Cargo.toml (Rust)
.IP \(bu 2
go.mod (Go)
.IP \(bu 2
.git directory
.SH HEALTH SCORES
.TS
l l.
Score	Status
80-100	ðŸŸ¢ Healthy
60-79	ðŸŸ¡ Okay
1-59	ðŸ”´ Needs work
0	âšª Unknown
.TE
.SH FILES
.TP
.I ~/.oh-my-zsh/custom/plugins/exarp/exarp.plugin.zsh
Oh-My-Zsh plugin location.
.TP
.I /tmp/exarp_cache/
Default cache directory for scores.
.TP
.I .todo2/state.todo2.json
Todo2 task state file (per project).
.TP
.I PROJECT_GOALS.md
Project goals for alignment analysis.
.SH EXAMPLES
.PP
Show quick project info (no Python):
.RS
.B xl
.RE
.PP
List 5 pending tasks:
.RS
.B xt . 5
.RE
.PP
Scan parent directory for projects:
.RS
.B xp .. 3
.RE
.PP
Generate scorecard to file:
.RS
.B xs output_format=markdown output_path=HEALTH.md
.RE
.PP
Enable daily MOTD on shell start:
.RS
echo 'export EXARP_MOTD=score' >> ~/.zshrc
.RE
.SH SEE ALSO
.BR zsh (1),
.BR git (1),
.BR python (1)
.PP
Project: https://github.com/davidl71/project-management-automation
.SH AUTHOR
David Lowes <david@example.com>
.SH COPYRIGHT
MIT License. Copyright (c) 2025.

